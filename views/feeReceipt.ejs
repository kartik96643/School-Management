<!DOCTYPE html>
<html>

<head>
  <title>Fee Receipt</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script>
    function setFormAction(actionUrl) {
      const form = document.getElementById("receiptForm");
      form.action = actionUrl;
      form.submit();
    }

    window.addEventListener("DOMContentLoaded", () => {
      const alert = document.querySelector(".forSec");
      if (alert) {
        setTimeout(() => {
          alert.style.opacity = "0";
          setTimeout(() => {
            alert.style.display = "none";
          }, 500);
        }, 1500);
      }
    });
  </script>
</head>

<body class="bg-light">
  <%- include('navbar.ejs') %>
  <div class="container mt-5">

    <% if(errors && errors.length ) {%>
      <div class="alert alert-danger forSec">
        <ul>
          <% errors.forEach(e=> { %>
            <li>
              <%= e.msg %>
            </li>

            <% }); %>
        </ul>
      </div>
      <% } %>
        <h2 class="text-center mb-4">Fee Receipt</h2>

        <form id="receiptForm" method="POST" class="card p-4 shadow-sm">
         

          <div class="mb-3">
            <label for="registrationNo" class="form-label">Registration No</label>
            <input type="number" class="form-control" id="registrationNo" name="registrationNo" required
              value="<%= formdata && formdata.registrationNo ? formdata.registrationNo : '' %>">
            <% if(errors && errors.length){ for(let i=0; i<errors.length; i++){ if(errors[i].param==='registrationNo' ){
              %>
              <p style="color:red;">
                <%= errors[i].msg %>
              </p>
              <% break; }} } %>
          </div>

          <!-- Buttons that change form action -->
          <div class="d-grid gap-2">

            <button type="button" onclick="setFormAction('/students/allTransactions')" class="btn btn-success">
              All Transactions
            </button>
           
              <a href="/students/studentFees" class=" btn btn-success">Back</a>
         
          </div>
        </form>
  </div>
</body>

</html>