<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Staff</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #f8f9fa, #e3f2fd);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }

    .container {
      max-width: 900px;
      width: 100%;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      padding: 3rem 2rem;
      animation: fadeIn 1s ease-in-out;
    }

    h2.text-primary {
      font-weight: bold;
      text-shadow: 1px 1px 2px rgba(13, 110, 253, 0.2);
    }

    .form-label {
      font-weight: 600;
    }

    .btn-outline-primary:hover {
      background-color: #0d6efd;
      color: white !important;
      transform: scale(1.02);
      box-shadow: 0 0 10px rgba(13, 110, 253, 0.3);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="form-container">
      <h2 class="text-center text-primary mb-4">✏️ Edit Staff Information</h2>

      <form action="/teacher/edit/<%= teacher.teacherEmail %>" method="POST">
        <div class="row g-3">

          <div class="col-md-6">
            <label for="empId" class="form-label">Employee Id</label>
            <input type="text" class="form-control" id="empId" name="empId" required value="<%= teacher.empId %>">
          </div>
          <div class="col-md-6">
            <label for="jobTitle" class="form-label">Job Title</label>
            <input type="text" class="form-control" id="jobTitle" name="jobTitle" required value="<%= teacher.jobTitle %>">
          </div>

          <div class="col-md-6">
            <label for="teacherName" class="form-label">Name</label>
            <input type="text" class="form-control" id="teacherName" name="teacherName" required value="<%= teacher.teacherName %>">
          </div>

          <div class="col-md-6">
            <label for="teacherEmail" class="form-label">Email Address</label>
            <input type="email" class="form-control" id="teacherEmail" name="teacherEmail" required value="<%= teacher.teacherEmail %>">
          </div>

          <div class="col-md-6">
            <label for="teacherContact" class="form-label">Contact No.</label>
            <input type="text" class="form-control" id="teacherContact" name="teacherContact" required maxlength="10" pattern="\d{10}" value="<%= teacher.teacherContact %>">
          </div>

          <div class="col-md-6 teacher-only">
            <label for="teacherSubject" class="form-label">Subject</label>
            <input type="text" class="form-control" id="teacherSubject" name="teacherSubject" value="<%= teacher.teacherSubject || '' %>">
          </div>

          <div class="col-md-6 teacher-only">
            <label for="teacherClass" class="form-label">Classes</label>
            <input type="text" class="form-control" id="teacherClass" name="teacherClass" value="<%= teacher.teacherClass || '' %>">
          </div>

          <div class="col-md-6">
            <label for="teacherSalary" class="form-label">Salary</label>
            <input type="number" class="form-control" id="teacherSalary" name="teacherSalary" required value="<%= teacher.teacherSalary %>">
          </div>

          <div class="col-md-6">
            <label for="gender" class="form-label">Gender</label>
            <select class="form-control" id="gender" name="gender" required>
              <option value="Male" <%= teacher.gender === 'Male' ? 'selected' : '' %>>Male</option>
              <option value="Female" <%= teacher.gender === 'Female' ? 'selected' : '' %>>Female</option>
            </select>
          </div>

          <div class="col-md-6 teacher-only">
            <label for="medium" class="form-label">Medium</label>
            <select class="form-control" id="medium" name="medium">
              <option value="Hindi" <%= teacher.medium === 'Hindi' ? 'selected' : '' %>>Hindi</option>
              <option value="English" <%= teacher.medium === 'English' ? 'selected' : '' %>>English</option>
              <option value="Both" <%= teacher.medium === 'Both' ? 'selected' : '' %>>Both</option>
            </select>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-6 d-grid">
            <button type="submit" class="btn btn-primary">Update</button>
          </div>
          <div class="col-md-6 d-grid">
            <a href="/teacher/list" class="btn btn-outline-primary">Cancel</a>
          </div>
        </div>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  
  
  <script>
  // Prevent digits in name
  const teacherInput = document.getElementById('teacherName');
  teacherInput.addEventListener('keypress', function (e) {
    if (/\d/.test(e.key)) e.preventDefault();
  });
  teacherInput.addEventListener('paste', function (e) {
    if (/\d/.test(e.clipboardData.getData('text'))) e.preventDefault();
  });
  teacherInput.addEventListener('drop', function (e) {
    if (/\d/.test(e.dataTransfer.getData('text'))) e.preventDefault();
  });

  // Allow only digits in contact
  const teacherContact = document.getElementById('teacherContact');
  teacherContact.addEventListener('input', function () {
    this.value = this.value.replace(/\D/g, '').slice(0, 10);
  });
  teacherContact.addEventListener('paste', function (e) {
    const pasted = e.clipboardData.getData('text');
    if (!/^\d{1,10}$/.test(pasted)) e.preventDefault();
  });

  // Remove numbers from subject input
  function removeNumbers(input) {
    input.value = input.value.replace(/[0-9]/g, '');
  }

  // Toggle teacher-only fields
  const jobTitleInput = document.getElementById('jobTitle');
  const teacherFields = document.querySelectorAll('.teacher-only');

  function toggleTeacherFields() {
    const value = jobTitleInput.value.trim().toLowerCase();
    const isTeacher = value === 'teacher';

    teacherFields.forEach(field => {
      field.style.display = isTeacher ? 'block' : 'none';
      const input = field.querySelector('input, select');
      if (input) {
        input.required = isTeacher;
        if (!isTeacher) input.value = '';
      }
    });
  }

  jobTitleInput.addEventListener('input', toggleTeacherFields);
  document.addEventListener('DOMContentLoaded', toggleTeacherFields);

  </script>
</body>

</html>
